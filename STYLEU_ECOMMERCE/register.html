<!DOCTYPE html>
<html>
<head>
<title>Register</title>

<style>
body{
    font-family: Arial;
    background: linear-gradient(to right,#4facfe,#00f2fe);
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
}

.box{
    background:white;
    padding:30px;
    width:350px;
    border-radius:10px;
    box-shadow:0 0 15px gray;
}

input{
    width:100%;
    padding:10px;
    margin-top:8px;
    border:2px solid #ccc;
    border-radius:5px;
    outline:none;
}

/* Error style */
.error{
    border-color:red;
}

.success{
    border-color:green;
}

.msg{
    font-size:13px;
    color:red;
    margin:2px 0 6px;
}

button{
    width:100%;
    padding:10px;
    background:#4facfe;
    color:white;
    border:none;
    margin-top:10px;
}
</style>

</head>

<body>

<div class="box">

<h2>Register</h2>

<form action="register.php" method="POST" id="regForm">

<input type="text" name="username" id="name" placeholder="Username">
<div class="msg" id="nameMsg"></div>

<input type="email" name="email" id="email" placeholder="Email">
<div class="msg" id="emailMsg"></div>

<input type="password" name="password" id="pass" placeholder="Password">
<div class="msg" id="passMsg"></div>

<button type="submit">Register</button>

<p>Already user? <a href="login.html">Login</a></p>

</form>

</div>

<script>

// Username
name.oninput = function(){

    if(name.value.length < 3){
        name.classList.add("error");
        nameMsg.innerHTML = "Minimum 3 characters";
    }
    else{
        name.classList.remove("error");
        name.classList.add("success");
        nameMsg.innerHTML = "";
    }
}

// Email
email.oninput = function(){

    let pattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;

    if(!email.value.match(pattern)){
        email.classList.add("error");
        emailMsg.innerHTML = "Invalid email format";
    }
    else{
        email.classList.remove("error");
        email.classList.add("success");
        emailMsg.innerHTML = "";
    }
}

// Password
pass.oninput = function(){

    if(pass.value.length < 8){
        pass.classList.add("error");
        passMsg.innerHTML = "Minimum 8 characters required";
    }
    else{
        pass.classList.remove("error");
        pass.classList.add("success");
        passMsg.innerHTML = "";
    }
}

// Prevent submit if invalid
document.getElementById("regForm").onsubmit = function(){

    if(
        name.value.length < 3 ||
        pass.value.length < 8 ||
        !email.value.match(/^[^ ]+@[^ ]+\.[a-z]{2,3}$/)
    ){
        alert("Fix errors first!");
        return false;
    }

    return true;
}

</script>

</body>
</html>
